<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap Sidebar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar-fixed {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .main-content {
            margin-left: 0;
        }

        @media (min-width: 768px) {
            .main-content {
                margin-left: 25%;
            }
        }

        @media (min-width: 992px) {
            .main-content {
                margin-left: 16.66%;
            }
        }
    </style>
</head>

<body class="bg-dark text-white">
    <div class="container-fluid">
        <div class="row">
            <nav class="col-12 col-md-3 col-lg-2 bg-dark text-white p-3 sidebar-fixed">
                <h2 class="mb-4">Movielist</h2>
                <ul class="nav flex-column mb-3">
                    <li class="nav-item"><a href="#" class="nav-link text-white">Home</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Library</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Friends</a></li>
                </ul>
                <hr>
                <h6 class="text-uppercase">My Lists</h6>
                <ul class="nav flex-column">
                    <li class="nav-item"><a href="#" class="nav-link text-white">Action</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Detectives</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Fantasy</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Space</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">BlockBusters</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">Shitty but I love it</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">My Top 100</a></li>
                </ul>
            </nav>

            <main class="col-md-9 col-lg-10 main-content">
                <div class="row p-3 g-4" id="movieList">
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const movieUrl = 'https://jsonfakery.com/movies/random/20'; // fetch 8 movies

        fetch(movieUrl)
            .then(resp => resp.json())
            .then(data => {
                const movieList = document.getElementById('movieList');

                data.forEach(movie => {
                    const col = document.createElement('div');
                    col.className = 'col-sm-6 col-md-4 col-lg-3';

                    col.innerHTML = `
              <div class="card bg-light text-dark h-100">
                  <img src="${movie.poster}" class="card-img-top" alt="${movie.title}">
                  <div class="card-body">
                      <h5 class="card-title">${movie.title}</h5>
                      <p class="card-text">${movie.overview.substring(0, 100)}...</p>
                      <a href="#" class="btn btn-primary">More Info</a>
                  </div>
              </div>
          `;
                    movieList.appendChild(col);
                });
            })
            .catch(error => {
                console.error('Error fetching movies:', error);
                document.getElementById('movieList').innerHTML = `<p class="text-danger">Failed to load movies.</p>`;
            });
    </script>

</body>

</html>